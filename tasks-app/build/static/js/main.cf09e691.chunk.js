(this["webpackJsonptasks-app"]=this["webpackJsonptasks-app"]||[]).push([[0],{12:function(e,t,n){e.exports={errors:n(42),validators:n(43),polyfills:n(79),validate:n(81)}},125:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(16),o=n.n(s),c=n(1),i=n.n(c),u=n(2),l=n(6),f=n(13),p=(n(67),n(68),function(e){var t=e.message;return a.a.createElement("p",{className:"feedback"},t)}),m=n(12),d=m.validate,h=m.errors.CredentialsError,b=n(12),k=b.validate,E=b.errors.ConflictError,w=n(12),x=w.validate,g=w.errors.NotFoundError,v=n(12),y=v.validate,j=v.errors,_=j.NotFoundError,O=j.CredentialsError,N=n(12),C=N.validate,S=N.errors,T=S.CredentialsError,V=S.NotFoundError,I=S.ConflictError,A=n(12),B=A.validate,F=A.errors,D=F.CredentialsError,L=F.NotFoundError,P=F.ConflictError,z=n(12),J=z.validate,K=z.errors,R=K.NotFoundError,G=K.CredentialsError,M=n(12),W=M.validate,Z=M.errors,$=Z.CredentialsError,H=Z.NotFoundError,U=Z.ConflictError,q=function(e,t){return d.string(e),d.string.notVoid("username",e),d.string(t),d.string.notVoid("password",t),Object(u.a)(i.a.mark((function n(){var r;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat("https://kanban-api-1.herokuapp.com","/users/auth"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})});case 2:if(200!==(r=n.sent).status){n.next=5;break}return n.abrupt("return",r.json());case 5:if(401!==r.status){n.next=7;break}throw new h(r.json());case 7:throw new Error(r.json());case 8:case"end":return n.stop()}}),n)})))()},Q=function(e,t,n,r,a){return k.string(e),k.string.notVoid("name",e),k.string(t),k.string.notVoid("surname",t),k.string(n),k.string.notVoid("e-mail",n),k.email(n),k.string(r),k.string.notVoid("username",r),k.string(a),k.string.notVoid("password",a),Object(u.a)(i.a.mark((function s(){var o;return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,fetch("".concat("https://kanban-api-1.herokuapp.com","/users"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,surname:t,email:n,username:r,password:a})});case 2:if(201!==(o=s.sent).status){s.next=5;break}return s.abrupt("return");case 5:if(409!==o.status){s.next=7;break}throw new E(o.json());case 7:throw new Error(o.json());case 8:case"end":return s.stop()}}),s)})))()},X=function(e){return x.string(e),x.string.notVoid("token",e),Object(u.a)(i.a.mark((function t(){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat("https://kanban-api-1.herokuapp.com","/users"),{method:"GET",headers:{Authorization:"Bearer ".concat(e)}});case 2:if(200!==(n=t.sent).status){t.next=5;break}return t.abrupt("return",n.json());case 5:if(404!==n.status){t.next=7;break}throw new g(n.json());case 7:throw new Error(n.json());case 8:case"end":return t.stop()}}),t)})))()},Y=function(e){return y.string(e),y.string.notVoid("token",e),Object(u.a)(i.a.mark((function t(){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat("https://kanban-api-1.herokuapp.com","/columns"),{method:"GET",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});case 2:if(200!==(n=t.sent).status){t.next=5;break}return t.abrupt("return",n.json());case 5:if(401!==n.status){t.next=7;break}throw new O(n.json());case 7:if(404!==n.status){t.next=9;break}throw new _(n.json());case 9:throw new Error(n.json());case 10:case"end":return t.stop()}}),t)})))()},ee=function(e,t,n){return C.string(e),C.string.notVoid("token",e),C.string(t),C.string.notVoid("status",t),C.string(n),C.string.notVoid("title",n),Object(u.a)(i.a.mark((function r(){var a;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch("".concat("https://kanban-api-1.herokuapp.com","/tasks"),{method:"POST",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify({status:t,title:n})});case 2:if(200!==(a=r.sent).status){r.next=5;break}return r.abrupt("return",a.json());case 5:if(401!==a.status){r.next=7;break}throw new T(a.json());case 7:if(404!==a.status){r.next=9;break}throw new V(a.json());case 9:if(409!==a.status){r.next=11;break}throw new I(a.json());case 11:case"end":return r.stop()}}),r)})))()},te=function(e){return B.string(e),B.string.notVoid("token",e),Object(u.a)(i.a.mark((function t(){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat("https://kanban-api-1.herokuapp.com","/columns"),{method:"POST",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});case 2:if(200!==(n=t.sent).status){t.next=5;break}return t.abrupt("return");case 5:if(401!==n.status){t.next=7;break}throw new D(n.json());case 7:if(404!==n.status){t.next=9;break}throw new L(n.json());case 9:if(409!==n.status){t.next=11;break}throw new P(n.json());case 11:case"end":return t.stop()}}),t)})))()},ne=function(e,t){return J.string(e),J.string.notVoid("token",e),Object(u.a)(i.a.mark((function n(){var r;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat("https://kanban-api-1.herokuapp.com","/columns"),{method:"PUT",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify({column:t})});case 2:if(201!==(r=n.sent).status){n.next=5;break}return n.abrupt("return");case 5:if(401!==r.status){n.next=7;break}throw new G(r.json());case 7:if(404!==r.status){n.next=9;break}throw new R(r.json());case 9:throw new Error(r.json());case 10:case"end":return n.stop()}}),n)})))()},re=function(e,t,n){return W.string(e),W.string.notVoid("token",e),W.string(t),W.string.notVoid("task id",t),W.string(n),W.string.notVoid("status",n),Object(u.a)(i.a.mark((function r(){var a;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch("".concat("https://kanban-api-1.herokuapp.com","/tasks/").concat(t),{method:"DELETE",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify({status:n})});case 2:if(201!==(a=r.sent).status){r.next=5;break}return r.abrupt("return");case 5:if(401!==a.status){r.next=7;break}throw new $(a.json());case 7:if(404!==a.status){r.next=9;break}throw new H(a.json());case 9:if(409!==a.status){r.next=11;break}throw new U(a.json());case 11:throw new Error(a.json());case 12:case"end":return r.stop()}}),r)})))()},ae=Q,se=Object(f.f)((function(e){var t=e.onBack,n=e.history,s=Object(r.useState)(),o=Object(l.a)(s,2),c=o[0],f=o[1];function m(){return(m=Object(u.a)(i.a.mark((function e(t,r,a,s,o){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae(t,r,a,s,o);case 3:n.push("/login"),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),c=e.t0.message,f(c);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return a.a.createElement(a.a.Fragment,null,a.a.createElement("header",{className:"login-title"},a.a.createElement("h1",null,"Kanban")),a.a.createElement("section",{className:"register"},a.a.createElement("h2",{className:"register__title"},"Please, introduce your details"),a.a.createElement("form",{className:"register__form",onSubmit:function(e){e.preventDefault();var t=e.target;!function(e,t,n,r,a){m.apply(this,arguments)}(t.name.value,t.surname.value,t.email.value,t.username.value,t.password.value)}},a.a.createElement("input",{className:"form__input",type:"text",name:"name",placeholder:"name"}),a.a.createElement("input",{className:"form__input",type:"text",name:"surname",placeholder:"surname"}),a.a.createElement("input",{className:"form__input",type:"text",name:"email",placeholder:"email"}),a.a.createElement("input",{className:"form__input",type:"username",name:"username",placeholder:"username"}),a.a.createElement("input",{className:"form__input",type:"password",name:"password",placeholder:"password"}),a.a.createElement("button",{className:"form__button form__button--register"},"Create account"),a.a.createElement("button",{type:"button",className:"form__button form__button--register-back",onClick:function(e){e.preventDefault(),t()}},"Go back")),c&&a.a.createElement(p,{message:c})))})),oe=(n(86),q),ce=Object(f.f)((function(e){e.onBack;var t=e.history,n=Object(r.useState)(),s=Object(l.a)(n,2),o=s[0],c=s[1];function f(){return(f=Object(u.a)(i.a.mark((function e(n,r){var a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oe(n,r);case 3:a=e.sent,sessionStorage.token=a,t.push("/tasks"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),s=e.t0.message,c(s);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return a.a.createElement(a.a.Fragment,null,a.a.createElement("header",{className:"login-title"},a.a.createElement("h1",null,"Kanban")),a.a.createElement("section",{className:"landing"},a.a.createElement("h2",{className:"landing__title"},"Login to enter"),a.a.createElement("form",{className:"landing__form",onSubmit:function(e){e.preventDefault();var t=e.target;!function(e,t){f.apply(this,arguments)}(t.username.value,t.password.value)}},a.a.createElement("input",{className:"form__input",type:"text",name:"username",placeholder:"username"}),a.a.createElement("input",{className:"form__input",type:"password",name:"password",placeholder:"password"}),a.a.createElement("button",{type:"submit",className:"form__button form__button--login"},"Login"),a.a.createElement("button",{type:"button",className:"form__button form__button--register",onClick:function(e){e.preventDefault(),t.push("/register")}},a.a.createElement("a",{href:""},"Create account"))),o&&a.a.createElement(p,{message:o})))})),ie=n(60),ue=n(17),le=(n(87),n(88),n(89),function(e){var t=e.status,n=e.title,r=e.modifier,s=e.index,o=e.id,c=e.onDeleteTask;return a.a.createElement(a.a.Fragment,null,a.a.createElement(ue.b,{draggableId:o,index:s},(function(e){return a.a.createElement("li",Object.assign({className:"task task--doing"},e.draggableProps,e.dragHandleProps,{ref:e.innerRef}),a.a.createElement("h3",{className:"task__title task__title--".concat(r)},n),a.a.createElement("i",{className:"fas fa-times",onClick:function(){c(o,t)}}))})))}),fe=ee,pe=function(e){var t=e.status,n=e.index,s=e.tasks,o=e.onCreateNewTask,c=e.onDeleteTask,f=t.toLowerCase(),p=sessionStorage.token,m=Object(r.useState)(!1),d=Object(l.a)(m,2),h=d[0],b=d[1],k=Object(r.useState)(null),E=Object(l.a)(k,2),w=E[0],x=E[1];function g(){return(g=Object(u.a)(i.a.mark((function e(n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"!==n.key){e.next=9;break}if(!w&&b(!1),!w){e.next=7;break}return e.next=5,fe(p,t,w);case 5:r=e.sent,o(r,t);case 7:b(!1),x(null);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(r.useEffect)((function(){x(null),h&&v.current.focus()}),[h]);var v=Object(r.useRef)(null);return function(e){function n(e){return a.apply(this,arguments)}function a(){return(a=Object(u.a)(i.a.mark((function n(r){var a;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.current||e.current.contains(r.target)){n.next=9;break}if(!w&&b(!1),!w){n.next=7;break}return n.next=5,fe(p,t,w);case 5:a=n.sent,o(a,t);case 7:b(!1),x(null);case 9:case"end":return n.stop()}}),n)})))).apply(this,arguments)}Object(r.useEffect)((function(){return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}}))}(v),a.a.createElement(a.a.Fragment,null,a.a.createElement("li",{className:"tasks__column tasks__column-".concat(f)},a.a.createElement("h2",{className:"tasks__title"},t),a.a.createElement("ul",{className:"tasks__task"},a.a.createElement("li",{className:"task task__add task__add--".concat(f),onClick:function(){b(!0)}},a.a.createElement("h3",{className:"task__title"},"+ Add new card")),h&&a.a.createElement("li",{className:"task task--".concat(f)},a.a.createElement("input",{type:"text",className:"task__title task__title--".concat(f," task__new"),placeholder:"Enter a title for this card",onChange:function(e){var t=e.target.value;x(t)},ref:v,onKeyDown:function(e){return g.apply(this,arguments)}})),a.a.createElement(ue.c,{droppableId:t,index:n},(function(e){return a.a.createElement("div",Object.assign({ref:e.innerRef},e.droppableProps),s&&s.map((function(e,n){return a.a.createElement(le,{status:t,key:e._id,title:e.title,modifier:f,index:n,id:e._id,onDeleteTask:c})})),e.placeholder)})))))},me=Y,de=ne,he=te,be=re,ke=function(e){e.user;var t=e.onLogout,n=sessionStorage.token,s=Object(r.useState)(),o=Object(l.a)(s,2),c=o[0],f=o[1],p=Object(r.useState)(!1),m=Object(l.a)(p,2),d=m[0],h=m[1];function b(){return(b=Object(u.a)(i.a.mark((function e(t){var r,a,s,o,u,l,p,m,d,b,k,E,w;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.destination,a=t.source,t.draggableId,h(!1),r){e.next=4;break}return e.abrupt("return");case 4:if(r.droppableId!==a.droppableId||r.index!==a.index){e.next=6;break}return e.abrupt("return");case 6:if(s=c.filter((function(e){return e.status===a.droppableId})),o=c.filter((function(e){return e.status===r.droppableId})),u=Object(ie.a)(c),s[0].id!==o[0].id){e.next=20;break}return l=c.findIndex((function(e){return e.status===a.droppableId})),p=Array.from(s[0].tasks),m=p.splice(a.index,1),p.splice(r.index,0,m[0]),u[l].tasks=p,f(u),e.next=18,de(n,u[l]);case 18:return h(!0),e.abrupt("return");case 20:return d=c.findIndex((function(e){return e.status===a.droppableId})),b=Array.from(s[0].tasks),k=b.splice(a.index,1),E=c.findIndex((function(e){return e.status===r.droppableId})),(w=Array.from(o[0].tasks)).splice(r.index,0,k[0]),u[d].tasks=b,u[E].tasks=w,f(u),e.next=31,de(n,u[d]);case 31:return e.next=33,de(n,u[E]);case 33:h(!0);case 34:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e,t){var n=c.findIndex((function(e){return e.status===t}));c[n].tasks.push(e),f(c)}function E(e,t){return w.apply(this,arguments)}function w(){return(w=Object(u.a)(i.a.mark((function e(t,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,be(n,t,r);case 3:h(!0),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he(n);case 2:return e.next=4,me(n);case 4:t=e.sent,f(t),h(!1);case 7:case"end":return e.stop()}}),e)})))()}),[d]),a.a.createElement(a.a.Fragment,null,a.a.createElement("header",null,a.a.createElement("h1",null,"Kanban"),a.a.createElement("h2",{onClick:t},"Logout"),a.a.createElement("i",{onClick:t,className:"fas fa-sign-out-alt"})),a.a.createElement("main",null,a.a.createElement(ue.a,{onDragEnd:function(e){return b.apply(this,arguments)}},a.a.createElement("ul",{className:"tasks"},c&&c.sort((function(e,t){return e.index-t.index})).map((function(e,t){return a.a.createElement(pe,{key:e.status,status:e.status,index:t,tasks:e.tasks,onCreateNewTask:k,onDeleteTask:E})}))))))},Ee=X,we=Object(f.f)((function(e){var t=e.history,n=Object(r.useState)(),s=Object(l.a)(n,2),o=s[0],c=s[1];Object(r.useEffect)((function(){Object(u.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p){e.next=6;break}return e.next=3,Ee(p);case 3:t=e.sent,n=t.name,c(n);case 6:case"end":return e.stop()}}),e)})))()}),[sessionStorage.token]);var p=sessionStorage.token;function m(){t.push("/")}return a.a.createElement(a.a.Fragment,null,a.a.createElement(f.b,{exact:!0,path:"/",render:function(){return a.a.createElement(ce,{onBack:m})}}),a.a.createElement(f.b,{exact:!0,path:"/login",render:function(){return a.a.createElement(ce,{onBack:m})}}),a.a.createElement(f.b,{path:"/register",render:function(){return a.a.createElement(se,{onBack:m})}}),a.a.createElement(f.b,{path:"/tasks"},p?a.a.createElement(ke,{user:o,onLogout:function(){sessionStorage.clear(),m()}}):a.a.createElement(f.a,{to:"/"})))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var xe=n(20);o.a.render(a.a.createElement(xe.a,null,a.a.createElement(we,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},42:function(e,t,n){e.exports={ConflictError:n(69),ContentError:n(73),CredentialsError:n(74),NotFoundError:n(75)}},43:function(e,t,n){e.exports={isTypeOf:n(76),isInstanceOf:n(77),isEmail:n(78)}},61:function(e,t,n){e.exports=n(125)},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){var r=n(24),a=n(25),s=n(19),o=n(18),c=n(26),i=n(27);e.exports=function(e){"use strict";function t(e){var n;return r(this,t),n=a(this,s(t).call(this,e)),Error.captureStackTrace(o(n),t),n.name=t.name,n}return c(t,e),t}(i(Error))},73:function(e,t,n){var r=n(24),a=n(25),s=n(19),o=n(18),c=n(26),i=n(27);e.exports=function(e){"use strict";function t(e){var n;return r(this,t),n=a(this,s(t).call(this,e)),Error.captureStackTrace(o(n),t),n.name=t.name,n}return c(t,e),t}(i(Error))},74:function(e,t,n){var r=n(24),a=n(25),s=n(19),o=n(18),c=n(26),i=n(27);e.exports=function(e){"use strict";function t(e){var n;return r(this,t),n=a(this,s(t).call(this,e)),Error.captureStackTrace(o(n),t),n.name=t.name,n}return c(t,e),t}(i(Error))},75:function(e,t,n){var r=n(24),a=n(25),s=n(19),o=n(18),c=n(26),i=n(27);e.exports=function(e){"use strict";function t(e){var n;return r(this,t),n=a(this,s(t).call(this,e)),Error.captureStackTrace(o(n),t),n.name=t.name,n}return c(t,e),t}(i(Error))},76:function(e,t){e.exports=function(e,t){return typeof e===t}},77:function(e,t){e.exports=function(e,t){return e instanceof t}},78:function(e,t){var n=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;e.exports=function(e){return n.test(e)}},79:function(e,t,n){e.exports={arrayRandom:n(80)}},80:function(e,t){e.exports=function(){"function"!==typeof Array.prototype.random&&(Array.prototype.random=function(){return this[Math.floor(Math.random()*this.length)]})}},81:function(e,t,n){var r=n(42).ContentError,a=n(43),s=a.isTypeOf,o=a.isInstanceOf,c=a.isEmail,i={typeOf:function(e,t){if(!s(t,e))throw new TypeError("".concat(t," is not a ").concat(e))},string:function(e){this.typeOf("string",e)},function:function(e){this.typeOf("function",e)},number:function(e){this.typeOf("number",e)},boolean:function(e){this.typeOf("boolean",e)},instanceOf:function(e,t){if(!o(t,e))throw TypeError("".concat(t," is not a ").concat(e.name))},array:function(e){this.instanceOf(Array,e)},email:function(e){if(!c(String(e).toLowerCase()))throw new r("".concat(e," is not an e-mail"))},matches:function(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];if(!a.includes(t))throw new r("".concat(t," does not match any of the valid ").concat(e," values: ").concat(a))}};i.string.notVoid=function(e,t){if(!t.trim().length)throw new r("".concat(e," is empty or blank"))},e.exports=i},86:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){}},[[61,1,2]]]);
//# sourceMappingURL=main.cf09e691.chunk.js.map